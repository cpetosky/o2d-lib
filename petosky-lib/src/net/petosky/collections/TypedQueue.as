package net.petosky.collections {	import flash.utils.describeType;	/**	 * @author cpetosky	 */	public class TypedQueue implements IQueue {		protected var _klass:Class;		private var _queue:IQueue;				protected var _className:String;				public function TypedQueue(klass:Class, queue:IQueue) {			_klass = klass;			_queue = queue;			_className = describeType(_klass).@name;						for each (var o:* in _queue.toArray())				if (!(o is klass))					throw new TypeError(						"[TypedQueue<" + _className + ">.iinit] Attempted to enforce " + 						_className + " on a queue with elements of type " +						describeType(o).@name + "."					);		}				/**		 * @inheritDoc		 */		public function clear():void {			_queue.clear();		}				/**		 * @throws flash.errors.TypeError if o is the wrong type		 * @inheritDoc		 */		public function enqueue(o:Object):Boolean {			return push(o);		}				/**		 * @throws flash.errors.TypeError if o is the wrong type		 * @inheritDoc		 */		public function push(o:Object):Boolean {			if (!(o is _klass))				throw new TypeError("[TypedQueue<" + _className + ">.push] Tried to push element of type " + describeType(o).@name + ".");			else				return _queue.push(o);					}				/**		 * @inheritDoc		 */		public function enqueueArray(a:Array):Boolean {			return pushArray(a);		}				/**		 * @inheritDoc		 */		public function pushArray(a:Array):Boolean {			var b:Boolean = true;			for each (var o:* in a)				b = b && push(o);			return b;		}						/**		 * @inheritDoc		 */		public function dequeue():Object {			return pop();		}				/**		 * @inheritDoc		 */		public function pop():Object {			return _queue.pop();					}				/**		 * @inheritDoc		 */		public function peek():Object {			return _queue.peek();		}				/**		 * @inheritDoc		 */		public function add(...args):Boolean {			return addArray(args);		}				/**		 * @inheritDoc		 */		public function addArray(a:Array):Boolean {			for each (var o:* in a)				if (!(o is _klass))					throw new TypeError("[TypedQueue<" + _className + ">.add] Tried to add element of type " + describeType(o).@name + ".");			return _queue.addArray(a);		}				/**		 * @inheritDoc		 */		public function toString():String {			return _queue.toString();		}				/**		 * @inheritDoc		 */		public function get length():uint {			return _queue.length;		}				/**		 * @inheritDoc		 */		public function get empty():Boolean {			return _queue.empty;		}				/**		 * @inheritDoc		 */		public function toArray():Array {			return _queue.toArray();		}	}}